<!DOCTYPE html>
<meta charset="utf-8">

<head>
    <title>Fairness in algorithms</title>
    <link rel="stylesheet" href="style/style.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />
</head>

<style type="text/css">
    table {
        width: 100%;
    }

    .tg {
        border-collapse: collapse;
        border-spacing: 0;
    }

    .tg td {
        font-family: Arial, sans-serif;
        font-size: 14px;
        padding: 10px 5px;
        border-style: solid;
        border-width: 1px;
        overflow: hidden;
        word-break: normal;
        border-color: black;
        border: 0;
    }

    .tg th {
        font-family: Arial, sans-serif;
        font-size: 14px;
        font-weight: normal;
        padding: 10px 5px;
        border-style: solid;
        border-width: 1px;
        overflow: hidden;
        word-break: normal;
        border-color: black;
        width: 20%;
        border: 0;
    }

    .tg .tg-cly1 {
        text-align: left;
        text-align: center;
        vertical-align: middle
    }
</style>


<body>
    <div class="site-wrapper">
        <div class="site-wrapper-inner">
            <div class="container">

                <div class="inner cover">
                    <h1 class="cover-heading">Survey 1/2</h1>
                    <p class="lead">Please answer all the following questions.</p>

                    <hr class="mb-4">

                    <p class="lead">I had all the required information to assess the fairness of the algorithm.</p>

                    <table class="tg">
                        <tr>
                            <th class="tg-cly1">Strongly disagree</th>
                            <th class="tg-cly1">Disagree</th>
                            <th class="tg-cly1">Neutral</th>
                            <th class="tg-cly1">Agree</th>
                            <th class="tg-cly1">Strongly agree</th>
                        </tr>
                        <tr>
                            <td class="tg-cly1">
                                <input type="radio" id="1strdisagree" name="q1">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="1disagree" name="q1">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="1neutral" name="q1">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="1agree" name="q1">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="1stragree" name="q1">
                            </td>
                        </tr>
                    </table>

                    <br />

                    <p class="lead">Were you missing any information to assess the fairness of the algorithm?</p>
                    <form class="needs-validation">
                        <div class="col-md-6 mb-3">
                            <textarea type="textarea" rows="4" class="form-control" id="infomissing-text" placeholder=""
                                value="" required></textarea>
                        </div>
                    </form>

                    <br />

                    <p class="lead">I felt confident in my decisions.</p>

                    <table class="tg">
                        <tr>
                            <th class="tg-cly1">Strongly disagree</th>
                            <th class="tg-cly1">Disagree</th>
                            <th class="tg-cly1">Neutral</th>
                            <th class="tg-cly1">Agree</th>
                            <th class="tg-cly1">Strongly agree</th>
                        </tr>
                        <tr>
                            <td class="tg-cly1">
                                <input type="radio" id="2strdisagree" name="q2">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="2disagree" name="q2">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="2neutral" name="q2">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="2agree" name="q2">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="2stragree" name="q2">
                            </td>
                        </tr>
                    </table>

                    <br />

                    <p class="lead">What affected your confidence?</p>
                    <form class="needs-validation">
                        <div class="col-md-6 mb-3">
                            <textarea type="textarea" rows="4" class="form-control" id="confidence-text" placeholder=""
                                value="" required></textarea>
                        </div>
                    </form>

                    <br />

                    <p class="lead">It is important to involve citizens like myself in the future development of
                        algorithms.</p>

                    <table class="tg">
                        <tr>
                            <th class="tg-cly1">Strongly disagree</th>
                            <th class="tg-cly1">Disagree</th>
                            <th class="tg-cly1">Neutral</th>
                            <th class="tg-cly1">Agree</th>
                            <th class="tg-cly1">Strongly agree</th>
                        </tr>
                        <tr>
                            <td class="tg-cly1">
                                <input type="radio" id="3strdisagree" name="q3">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="3disagree" name="q3">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="3neutral" name="q3">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="3agree" name="q3">
                            </td>
                            <td class="tg-cly1">
                                <input type="radio" id="3stragree" name="q3">
                            </td>
                        </tr>
                    </table>

                    <br />

                    <p class="lead">How can the general public best be involved in assessing the fairness of algorithms?
                    </p>
                    <form class="needs-validation">
                        <div class="col-md-6 mb-3">
                            <textarea type="textarea" rows="4" class="form-control" id="involved-text" placeholder=""
                                value="" required></textarea>
                        </div>
                    </form>

                    <p class="lead">How would the option to assess algorithms, as in this study, change your opinion on
                        algorithms making decisions?</p>
                    <form class="needs-validation">
                        <div class="col-md-6 mb-3">
                            <textarea type="textarea" rows="4" class="form-control" id="opinionalgo-text" placeholder=""
                                value="" required></textarea>
                        </div>
                    </form>

                    <br />
                    <hr class="mb-4">
                    <br />

                    <a href="#" id="next-btn" class="btn btn-lg btn-default">Next</a> </br></br>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script>
        var urlParams;
        (window.onpopstate = function () {
            var match,
                pl = /\+/g,  // Regex for replacing addition symbol with a space
                search = /([^&=]+)=?([^&]*)/g,
                decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
                query = window.location.search.substring(1);

            urlParams = {};
            while ((match = search.exec(query)) !== null)
                urlParams[decode(match[1])] = decode(match[2]);
        })();

        $(document).ready(function () {
            var pID = urlParams["id"];
            var pAge = urlParams["a"];
            var pSex = urlParams["s"];
            var pRace = urlParams["r"];
            var pIncome = urlParams["i"];
            var pEducation = urlParams["e"];

            $("#next-btn").click(function () {
                var answerdata = [];
                var timestamp = Date.now();

                var requiredinfolikert = "";
                requiredinfolikert = $("input[name='q1']:checked").attr('id');

                var infomissing = "";
                infomissing = $('#infomissing-text').val();

                var confidencelikert = "";
                confidencelikert = $("input[name='q2']:checked").attr('id');

                var confidencetext = "";
                confidencetext = $('#confidence-text').val();

                var involvelikert = "";
                involvelikert = $("input[name='q3']:checked").attr('id');

                var involvedtext = "";
                involvedtext = $('#involved-text').val();

                var opinionalgotext = "";
                opinionalgotext = $('#opinionalgo-text').val();

                console.log("Answerdata");
                answerdata.push(pID, timestamp, "completionsurvey-1", requiredinfolikert, infomissing, confidencelikert, confidencetext, involvelikert, involvedtext, opinionalgotext);
                console.log(answerdata);

                if (requiredinfolikert == null || infomissing == "" || confidencelikert == null || confidencetext == "" || involvelikert == undefined || involvedtext == "" || opinionalgotext == "") {
                    alert("Please answer all the questions.")
                } else {
                    $.post('savedata.php', { data: answerdata }, function (response) {
                        url = "graphcomprehend.html" + "?id=" + pID + "&a=" + pAge + "&s=" + pSex + "&r=" + pRace + "&i=" + pIncome + "&e=" + pEducation;
                        window.location = url;
                    });
                }
            });
        });
    </script>
</body>